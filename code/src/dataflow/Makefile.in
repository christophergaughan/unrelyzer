all: tokenize parse build

tokenize:
	@FLEX@ tokenizer.l

parse:
	@BISON@ -d grammar.y

build:
	gcc -c lex.yy.c -o lex.yy.o
	gcc -c grammar.tab.c -o grammar.tab.o
	gcc -c avl.c -o avl.o
	gcc -c parser.c -o parser.o
	gcc -c dataflow.c -o dataflow.o
	ar rcs libdf.a grammar.tab.o avl.o parser.o dataflow.o lex.yy.o

clean:
	rm -f grammar.tab.* lex.yy.c *.o *.a
